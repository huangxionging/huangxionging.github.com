<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.2.1 (452715)"/><meta name="altitude" content="22.06257247924805"/><meta name="author" content="Redman"/><meta name="created" content="2015-09-14 08:53:51 +0000"/><meta name="latitude" content="22.54698487134828"/><meta name="longitude" content="113.9366389194478"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2015-09-14 08:59:36 +0000"/><title>UITableViewCell 侧滑删除按钮效果模拟(定制删除按钮) 或者有多个操作</title></head><body>
<div><span style="font-family: Menlo;"><span style="color: rgb(4, 51, 255);">以滚动视图 </span></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">scrollView 作为 cell 的 contentView, 从右边添加一些操作按钮, 如删除, 更多, 等等.在</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">scrollView中的代理方法中实现效果</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(4, 51, 255);"><br/></span></span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(4, 51, 255);"><br/></span></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#pragma mark--</span><span style="font: 18.0px 'Heiti SC Light'; font-variant-ligatures: no-common-ligatures; color: #0433ff">侧滑删除按钮</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">,</span><span style="font: 18.0px 'Heiti SC Light'; font-variant-ligatures: no-common-ligatures; color: #0433ff">即可以添加滚动视图来解决</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">,</span><span style="font: 18.0px 'Heiti SC Light'; font-variant-ligatures: no-common-ligatures; color: #0433ff">通过滚动视图的代理方法实现效果</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)scrollViewDidScroll:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIScrollView</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)scrollView {</span></div>
<div><span style="font-family: Menlo;">  </span></div>
<div><span style="font-family: Menlo;">// 获取手势发生的坐标位置</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">   </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPoint</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">point = [scrollView.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">panGestureRecognizer</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">locationInView</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">:</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">self</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentView</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">];</span></div>
<div><span style="font-family: Menlo;">  </span></div>
<div><span style="font-family: Menlo;">// </span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">_currentOffset 用于记录滚动视图的偏移量, 这个条件语句是用于判断左滑还是右滑</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">   </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">if</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(scrollView.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentOffset</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt;</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">_currentOffset</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">) {</span></div>
<div><span style="font-family: Menlo;">      </span></div>
<div><span style="font-family: Menlo;">// 左滑只在边缘区有效</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">       </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">if</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(point.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt;</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">SCREEN_WIDTH</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">|| point.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&lt;</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">SCREEN_WIDTH</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- 40) {<br/>
           </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">_contentBackView</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentOffset</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">=</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPointMake</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(0, 0);<br/>
           </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">return</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">;<br/>
        }</span></div>
<div><span style="font-family: Menlo;">      </span></div>
<div><span style="font-family: Menlo;">// 在边缘区, 则偏移滚动</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">       </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">if</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(scrollView.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentOffset</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt; 0) {<br/>
            [</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIView</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">animateWithDuration</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">: 0.3</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">animations</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">:^{<br/>
                scrollView.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentOffset</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">=</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPointMake</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">ManageAccountTableViewCellHeight</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">, 0);;<br/>
            }];<br/>
        }<br/>
    }<br/>
   </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">else</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">{</span></div>
<div><span style="font-family: Menlo;">      </span></div>
<div><span style="font-family: Menlo;">// 右滑, 输出最后结果即可</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">       </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">if</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(scrollView.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentOffset</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&lt;</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">SCREEN_WIDTH</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">) {<br/>
            [</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIView</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">animateWithDuration</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">: 0.3</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">animations</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">:^{<br/>
                scrollView.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentOffset</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">=</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPointMake</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(0, 0);;<br/>
            }];<br/>
        }<br/>
    }<br/>
   <br/>
   </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">_currentOffset</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= scrollView.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">contentOffset</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span><span style="font-style: normal; font-variant: normal; font-weight: normal;"><span style="font-family: Menlo;">;</span></span></div>
<div><span style="font-family: Menlo;">}</span></div>
</body></html>