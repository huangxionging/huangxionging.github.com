<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.2.1 (452715)"/><meta name="altitude" content="21.8922004699707"/><meta name="author" content="Redman"/><meta name="created" content="2015-07-11 06:49:51 +0000"/><meta name="latitude" content="22.54691186101791"/><meta name="longitude" content="113.9366263231246"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2015-07-11 06:50:08 +0000"/><meta name="application-data:corenote-localUUID" content="E82C2AE8-1CD5-441E-8634-84A228ECAE4F"/><meta name="application-data:corenote-hostUUID" content="6E90AC44-32ED-430B-B8DD-4A5112184527"/><title>CoreGraphics 框架之 CGFunction</title></head><body>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* CoreGraphics - CGFunction.h<br/>
   Copyright (c) 1999-2011 Apple Inc.<br/>
   All rights reserved. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#ifndef CGFUNCTION_H_<br/>
#define CGFUNCTION_H_<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* A CGFunction is a general floating-point function evaluator which uses a<br/>
   user-specified callback to map an arbitrary number of inputs to an<br/>
   arbitrary number of outputs. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">typedef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">struct</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunction</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*CGFunctionRef;<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#include</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #b4261a">&lt;CoreGraphics/CGBase.h&gt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff"><br/>
#include</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #b4261a">&lt;CoreFoundation/CFBase.h&gt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CF_IMPLICIT_BRIDGING_ENABLED</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* This callback evaluates a function, using `in' as inputs, and places the<br/>
   result in `out'. `info' is the info parameter passed to the CGFunction<br/>
   creation functions. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">typedef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(*CGFunctionEvaluateCallback)(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*info,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">const</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">in</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">out</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* When a function is deallocated, this callback releases `info', the info<br/>
   parameter passed to the CGFunction creation functions. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">typedef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(*CGFunctionReleaseInfoCallback)(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*info);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Callbacks for a CGFunction.<br/>
     `version' is the version number of this structure. This structure is<br/>
       version 0.<br/>
     `evaluate' is the callback used to evaluate the function.<br/>
     `releaseInfo', if non-NULL, is the callback used to release the info<br/>
       parameter passed to the CGFunction creation functions when the<br/>
       function is deallocated. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">struct</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGFunctionCallbacks {<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">unsigned</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">int</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">version;<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionEvaluateCallback</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">evaluate;<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionReleaseInfoCallback</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">releaseInfo;<br/>
};<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">typedef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">struct</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionCallbacks</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGFunctionCallbacks;<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Return the CFTypeID for CGFunctionRefs. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CFTypeID</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGFunctionGetTypeID(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_2, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Create a CGFunction using `callbacks' to evaluate the function. `info' is<br/>
   passed to each of the callback functions. `domainDimension' is the number<br/>
   of input values to the function; `rangeDimension' is the number of output<br/>
   values from the function.<br/>
<br/>
   `domain' is an array of 2M values, where M is the number of input values.<br/>
   For each k from 0 to M-1, domain[2*k] must be less than or equal to<br/>
   domain[2*k+1]. The k'th input value (in[k]) will be clipped to lie in<br/>
   this interval, so that domain[2*k] &lt;= in[k] &lt;= domain[2*k+1]. If `domain'<br/>
   is NULL, then the input values will not be clipped. However, it's<br/>
   strongly recommended that `domain' be specified; each domain interval<br/>
   should specify reasonable values for the minimum and maximum in that<br/>
   dimension.<br/>
<br/>
   `range' is an array of 2N values, where N is the number of output values.<br/>
   For each k from 0 to N-1, range[2*k] must be less than or equal to<br/>
   range[2*k+1]. The k'th output value (out[k]) will be clipped to lie in<br/>
   this interval, so that range[2*k] &lt;= out[k] &lt;= range[2*k+1]. If `range'<br/>
   is NULL, then the output values will not be clipped. However, it's<br/>
   strongly recommended that `range' be specified; each range interval<br/>
   should specify reasonable values for the minimum and maximum in that<br/>
   dimension.<br/>
<br/>
   The contents of the callbacks structure is copied, so, for example, a<br/>
   pointer to a structure on the stack can be passed to this function. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionRef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGFunctionCreate(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*info,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">size_t</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">domainDimension,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">const</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*domain,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">size_t</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">rangeDimension,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">const</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*range,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">const</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionCallbacks</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*callbacks)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_2, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Equivalent to `CFRetain(function)', except it doesn't crash (as CFRetain<br/>
   does) if `function' is NULL. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionRef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGFunctionRetain(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionRef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">function)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_2, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Equivalent to `CFRelease(function)', except it doesn't crash (as<br/>
   CFRelease does) if `function' is NULL. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGFunctionRelease(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFunctionRef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">function)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_2, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CF_IMPLICIT_BRIDGING_DISABLED</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#endif</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* CGFUNCTION_H_ */</span></div>
</body></html>