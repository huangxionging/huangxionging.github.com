<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.2.1 (452715)"/><meta name="altitude" content="23.34214782714844"/><meta name="author" content="Redman"/><meta name="created" content="2015-07-20 07:04:45 +0000"/><meta name="latitude" content="22.5469581243951"/><meta name="longitude" content="113.9366228457949"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2015-07-20 07:22:14 +0000"/><title>UIKit Dynamics 之 UIDynamicAnimator</title></head><body>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">//</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">//  UIDynamicAnimator.h</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">//  UIKit</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">//</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">//  Copyright (c) 2012-2014 Apple Inc. All rights reserved.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">//</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#import</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #b4261a">&lt;Foundation/Foundation.h&gt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff"><br/>
#import</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #b4261a">&lt;UIKit/UIView.h&gt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff"><br/>
#import</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #b4261a">&lt;UIKit/UICollectionViewLayout.h&gt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@class</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicBehavior</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">;<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@class</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicAnimator</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">;<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@protocol</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">UIDynamicAnimatorDelegate &lt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSObject</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt;<br/>
<br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@optional</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(4, 51, 255);">// 恢复 暂停</span></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)dynamicAnimatorWillResume:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicAnimator</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)animator;<br/>
- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)dynamicAnimatorDidPause:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicAnimator</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)animator;<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@end</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">NS_CLASS_AVAILABLE_IOS</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(7_0)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@interface</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">UIDynamicAnimator:</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSObject</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">// When you initialize a dynamic animator with this method, you should only associates views with your behaviors.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">// the behaviors (and their dynamic items) that you add to the animator employ the reference view’s coordinate system.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">instancetype</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)initWithReferenceView:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIView</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)view; // 参考视图</span></div>
<div><span style="font-family: Menlo;"><br/></span></div>
<div><span style="font-family: Menlo;">// 添加行为</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)addBehavior:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicBehavior</span> <span style="font-family: Menlo;">*)behavior;</span></div>
<div><span style="font-family: Menlo;">// 删除行为</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)removeBehavior:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicBehavior</span> <span style="font-family: Menlo;">*)behavior;</span></div>
<div><span style="font-family: Menlo;">// 删除所有行为</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)removeAllBehaviors;</span></div>
<div><span style="font-family: Menlo;"><br/></span></div>
<div><span style="font-family: Menlo;">// 参考视图</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@property</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">nonatomic</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">readonly</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIView</span><span style="font-family: Menlo;">* referenceView;</span></div>
<div><span style="font-family: Menlo;">// 所有行为</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@property</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">nonatomic</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">readonly</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">copy</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSArray</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* behaviors;<br/>
<br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">// Returns the dynamic items associated with the animator’s behaviors that intersect a specified rectangle</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">指定矩形内的行为集合</span></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSArray</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)itemsInRect:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGRect</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)rect;</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">// Update the item state in the animator if an external change was made to this item </span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">// 更新状态</span></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">void</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)updateItemUsingCurrentState:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">id</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&lt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicItem</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt;)item;<br/>
<br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@property</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">nonatomic</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">readonly</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">getter</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= isRunning)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">BOOL</span> <span style="font-family: Menlo;">running;</span></div>
<div><span style="font-family: Menlo;">// 流逝时间</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSTimeInterval</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)elapsedTime;<br/>
// 代理<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@property</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">nonatomic</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">assign</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">id</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&lt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UIDynamicAnimatorDelegate</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt; delegate;<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@end</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@interface</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">UIDynamicAnimator (UICollectionViewAdditions)<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">// When you initialize a dynamic animator with this method, you should only associate collection view layout attributes with your behaviors.</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">// The animator will employ thecollection view layout’s content size coordinate system.</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">// 集合</span></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">instancetype</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)initWithCollectionViewLayout:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UICollectionViewLayout</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)layout;<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">// The three convenience methods returning layout attributes (if associated to behaviors in the animator) if the animator was configured with collection view layout</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UICollectionViewLayoutAttributes</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)layoutAttributesForCellAtIndexPath:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSIndexPath</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)indexPath;<br/>
- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UICollectionViewLayoutAttributes</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)layoutAttributesForSupplementaryViewOfKind:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSString</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)kind atIndexPath:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSIndexPath</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)indexPath;<br/>
- (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">UICollectionViewLayoutAttributes</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)layoutAttributesForDecorationViewOfKind:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSString</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)decorationViewKind atIndexPath:(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">NSIndexPath</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">*)indexPath;<br/>
<br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">@end</span></div>
</body></html>