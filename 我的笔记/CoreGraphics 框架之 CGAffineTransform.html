<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.2.1 (452715)"/><meta name="altitude" content="21.50940322875977"/><meta name="author" content="Redman"/><meta name="created" content="2015-06-30 06:30:28 +0000"/><meta name="latitude" content="22.54698542064016"/><meta name="longitude" content="113.9366274790962"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2015-06-30 10:16:21 +0000"/><title>CoreGraphics 框架之 CGAffineTransform</title></head><body>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* CoreGraphics - CGAffineTransform.h<br/>
   Copyright (c) 1998-2011 Apple Inc.<br/>
   All rights reserved. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#ifndef CGAFFINETRANSFORM_H_<br/>
#define CGAFFINETRANSFORM_H_<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">typedef</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">struct</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransform;<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#include</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #b4261a">&lt;CoreGraphics/CGBase.h&gt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff"><br/>
#include</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #b4261a">&lt;CoreGraphics/CGGeometry.h&gt;</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CF_IMPLICIT_BRIDGING_ENABLED</span></div>
<div><span style="font-family: Menlo;"><br/></span></div>
<div><span style="font-family: Menlo;">// 结构体定义 仿射变换</span></div>
<div><span style="font-family: Menlo;"><br/></span></div>
<div><span style="font-family: Menlo;">|q,  b,  0|</span></div>
<div><span style="font-family: Menlo;">|c,  d,  0|</span></div>
<div><span style="font-family: Menlo;">|tx, ty, 1|</span></div>
<div><span style="font-family: Menlo;"><br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">struct</span> <span style="font-family: Menlo;">CGAffineTransform {</span></div>
<div><span style="font-family: Menlo;">// a</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"> </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">a, b, c, d;<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">tx, ty;<br/>
};<br/>
<br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* The identity transform: [ 1 0 0 1 0 0 ]. */</span></div>
<div><span style="font-family: Menlo;">身份变换, 得到其最原始矩阵</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">const</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformIdentity<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Return the transform [ a b c d tx ty ]. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
// 创建仿射矩阵<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformMake(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">a,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">b,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">c,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">d,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">tx,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">ty)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Return a transform which translates by `(tx, ty)':<br/>
     t' = [ 1 0 0 1 tx ty ] */</span></div>
<div><img src="CoreGraphics%20%E6%A1%86%E6%9E%B6%E4%B9%8B%20CGAffineTransform.resources/002769D7-8410-4580-9C28-FA73373CE762.png" height="142" width="323"/></div>
<div> // 平移 [x, y, 1] 与上面矩阵 X 乘</div>
<div>得到 x’ = x + tx;</div>
<div>    y’ = y + ty;</div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformMakeTranslation(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">tx,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">ty)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Return a transform which scales by `(sx, sy)':</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">     t' = [ sx 0 0 sy 0 0 ] */</span></span></div>
<div><span style="font-family: Menlo;">缩放</span> <img src="CoreGraphics%20%E6%A1%86%E6%9E%B6%E4%B9%8B%20CGAffineTransform.resources/53B8CAB3-FDF8-47CD-B1B0-361E76139883.png" height="85" width="125"/></div>
<div>x’ = x * sx;</div>
<div>y’ = y * sy;</div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformMakeScale(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">sx,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">sy)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Return a transform which rotates by `angle' radians:</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">     t' = [ cos(angle) sin(angle) -sin(angle) cos(angle) 0 0 ] */</span></span></div>
<div><span style="font-family: Menlo;">旋转角度</span></div>
<div><img src="CoreGraphics%20%E6%A1%86%E6%9E%B6%E4%B9%8B%20CGAffineTransform.resources/B5996D00-0E27-4037-97E4-98CF4DE33F88.png" height="106" width="182"/></div>
<div>x’ = x*cos a - y*sin a</div>
<div>y’ = x*sin a + y*cos a</div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformMakeRotation(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">angle)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Return true if `t' is the identity transform, false otherwise. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
// 判断是否为 身份矩阵<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">bool</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformIsIdentity(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_4, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Translate `t' by `(tx, ty)' and return the result:</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">     t' = [ 1 0 0 1 tx ty ] * t */</span></span></div>
<div><span style="font-family: Menlo;">// 从一个矩阵平移得到另一个矩阵</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformTranslate(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">tx,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">ty)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Scale `t' by `(sx, sy)' and return the result:<br/>
     t' = [ sx 0 0 sy 0 0 ] * t */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
// 缩放<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformScale(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">sx,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">sy)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Rotate `t' by `angle' radians and return the result:<br/>
     t' =  [ cos(angle) sin(angle) -sin(angle) cos(angle) 0 0 ] * t */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
// 旋转<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformRotate(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">angle)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Invert `t' and return the result. If `t' has zero determinant, then `t'<br/>
   is returned unchanged. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
// 转置矩阵<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformInvert(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Concatenate `t2' to `t1' and return the result:<br/>
     t' = t1 * t2 */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
拼接新矩阵<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformConcat(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t1,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t2)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Return true if `t1' and `t2' are equal, false otherwise. */</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
// 判断两个矩阵是否相等<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">bool</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGAffineTransformEqualToTransform(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t1,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t2)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_4, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Transform `point' by `t' and return the result:<br/>
     p' = p * t</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">   where p = [ x y 1 ]. */</span></span></div>
<div><span style="font-family: Menlo;">应用变换后的点</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPoint</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGPointApplyAffineTransform(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPoint</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">point,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t)</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Transform `size' by `t' and return the result:<br/>
     s' = s * t<br/>
   where s = [ width height 0 ]. */</span></div>
<div><span style="font-family: Menlo;"><br/></span></div>
<div><span style="font-family: Menlo;">// 应用后的  变换后的 size</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGSize</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGSizeApplyAffineTransform(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGSize</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">size,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_0, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* Transform `rect' by `t' and return the result. Since affine transforms do<br/>
   not preserve rectangles in general, this function returns the smallest<br/>
   rectangle which contains the transformed corner points of `rect'. If `t'<br/>
   consists solely of scales, flips and translations, then the returned<br/>
   rectangle coincides with the rectangle constructed from the four</span></div>
<div><span style="font-family: Menlo;"><span style="color: rgb(0, 143, 0);">   transformed corners. */</span></span></div>
<div><span style="font-family: Menlo;">// 应用变换的矩形</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_EXTERN</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGRect</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">CGRectApplyAffineTransform(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGRect</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">rect,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t)<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_AVAILABLE_STARTING</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">(__MAC_10_4, __IPHONE_2_0);<br/>
<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/*** Definitions of inline functions. ***/</span></div>
<div><span style="font-family: Menlo;"><br/></span></div>
<div><span style="font-family: Menlo;">// 内联函数</span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_INLINE</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
__CGAffineTransformMake(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">a,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">b,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">c,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">d,<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">tx,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">ty)<br/>
{<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t;<br/>
  t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">a</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= a; t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">b</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= b; t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">c</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= c; t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">d</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= d; t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">tx</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= tx; t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">ty</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= ty;<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">return</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t;<br/>
}<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#define CGAffineTransformMake __CGAffineTransformMake<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_INLINE</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPoint</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
__CGPointApplyAffineTransform(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPoint</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">point,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t)<br/>
{<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGPoint</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">p;<br/>
  p.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)((</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">a</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* point.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">+ (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">c</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* point.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">y</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">+ t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">tx</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">);<br/>
  p.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">y</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)((</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">b</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* point.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">x</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">+ (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">d</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* point.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">y</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">+ t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">ty</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">);<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">return</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">p;<br/>
}<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#define CGPointApplyAffineTransform __CGPointApplyAffineTransform<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CG_INLINE</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGSize</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
__CGSizeApplyAffineTransform(</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGSize</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">size,</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGAffineTransform</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">t)<br/>
{<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGSize</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">s;<br/>
  s.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">width</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)((</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">a</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* size.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">width</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">+ (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">c</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* size.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">height</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">);<br/>
  s.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">height</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">= (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">CGFloat</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)((</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">b</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* size.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">width</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">+ (</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">double</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">)t.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">d</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">* size.</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #3495af">height</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">);<br/>
 </span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">return</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures">s;<br/>
}<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#define CGSizeApplyAffineTransform __CGSizeApplyAffineTransform<br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/></span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">CF_IMPLICIT_BRIDGING_DISABLED</span><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures"><br/>
<br/></span></div>
<div><span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #0433ff">#endif</span> <span style="font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #008f00">/* CGAFFINETRANSFORM_H_ */</span></div>
</body></html>